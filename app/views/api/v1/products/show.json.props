json.status do
  json.code 200
  json.message "Fetched all products successfully"
end

json.data do
  json.id @product.id
  json.name @product.title
  json.category @product.product_category.title

  if @product.producer
    json.producer do
      json.id @product.producer.id
      json.company_name @product.producer.title
      json.company_description @product.producer.address
    end
  end
  json.description @product.description
  json.price @product.price

  if @product.promotion
    json.promotion do
      json.id @product.promotion.id
      json.name @product.promotion.title
      json.code @product.promotion.value
    end
  else
    json.promotion nil
  end

  json.image_url @product.product_image_url
end
