json.status do
  json.code 200
  json.message "Admin user was retrieved successfully."
end

json.data do
  json.id @admin_user.id
  json.email @admin_user.email
  json.created_at @admin_user.created_at
  json.updated_at @admin_user.updated_at

  # Admin details
  if @admin_user.admin_detail
    json.admin_detail do
      json.id @admin_user.admin_detail.id
      json.first_name @admin_user.admin_detail.first_name
      json.middle_name @admin_user.admin_detail.middle_name
      json.last_name @admin_user.admin_detail.last_name
      json.dob @admin_user.admin_detail.dob
    end
  end

  # Admin phones
  json.admin_phones do
    json.array! @admin_user.admin_phones do |admin_phone|
      json.id admin_phone.id
      json.phone_no admin_phone.phone_no
      json.phone_type admin_phone.phone_type
    end
  end

  # Admin addresses with nested address details
  json.admin_addresses do
    json.array! @admin_user.admin_addresses do |admin_address|
      json.id admin_address.id
      json.is_default admin_address.is_default

      if admin_address.address
        json.address do
          json.id admin_address.address.id
          json.unit_no admin_address.address.unit_no
          json.street_no admin_address.address.street_no
          json.address_line1 admin_address.address.address_line1
          json.address_line2 admin_address.address.address_line2
          json.city admin_address.address.city
          json.region admin_address.address.region
          json.zipcode admin_address.address.zipcode
          json.country_id admin_address.address.country_id
        end
      end
    end
  end

  # Company sites where admin is registered
  json.company_sites do
    json.array! @admin_user.company_sites do |company_site|
      json.id company_site.id
      json.title company_site.title
      json.site_type company_site.site_type
      json.created_at company_site.created_at
      json.updated_at company_site.updated_at
      if company_site.address
        json.address do
          json.id company_site.address.id
          json.unit_no company_site.address.unit_no
          json.street_no company_site.address.street_no
          json.address_line1 company_site.address.address_line1
          json.address_line2 company_site.address.address_line2
          json.city company_site.address.city
          json.region company_site.address.region
          json.zipcode company_site.address.zipcode
          json.country_id company_site.address.country_id
        end
      end
    end
  end
end
